{
  "view": "tab_v",
  "as_select": {
    "selects": [
      {
        "columns": [
          {
            "parts": [
              "t1",
              "type"
            ],
            "alias": "type"
          },
          {
            "name": "sum",
            "arguments": [
              {
                "parts": [
                  "t1",
                  "val"
                ]
              }
            ],
            "alias": "sval"
          },
          {
            "name": "toStartOfDay",
            "arguments": [
              {
                "parts": [
                  "t1",
                  "dt"
                ]
              }
            ],
            "alias": "sday"
          },
          {
            "name": "anyLast",
            "arguments": [
              {
                "parts": [
                  "sval"
                ]
              }
            ],
            "over": {
              "name": "w"
            },
            "alias": "lval"
          }
        ],
        "from": {
          "tables": [
            {
              "table": {
                "table": {
                  "table": "tab"
                },
                "alias": "t1"
              }
            }
          ]
        },
        "group_by": [
          {
            "parts": [
              "type"
            ]
          },
          {
            "parts": [
              "sday"
            ]
          }
        ],
        "window": [
          {
            "name": "w",
            "spec": {
              "partition_by": [
                {
                  "parts": [
                    "type"
                  ]
                }
              ]
            }
          }
        ]
      }
    ]
  }
}
