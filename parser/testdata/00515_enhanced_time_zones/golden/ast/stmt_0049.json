{
  "table": "tab",
  "columns": [
    {
      "name": "country",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "FixedString",
            "parameters": [
              {
                "type": "Integer",
                "value": 7
              }
            ],
            "has_parentheses": true
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "city",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "region",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "continent",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "FixedString",
            "parameters": [
              {
                "type": "Integer",
                "value": 7
              }
            ],
            "has_parentheses": true
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "is_eu_country",
      "type": {
        "name": "Bool"
      }
    },
    {
      "name": "date",
      "type": {
        "name": "DateTime"
      },
      "codec": {
        "codecs": [
          {
            "name": "DoubleDelta"
          },
          {
            "name": "LZ4"
          }
        ]
      }
    },
    {
      "name": "viewer_date",
      "type": {
        "name": "DateTime"
      },
      "default": {
        "name": "toTimezone",
        "arguments": [
          {
            "parts": [
              "date"
            ]
          },
          {
            "parts": [
              "timezone"
            ]
          }
        ]
      },
      "default_kind": "ALIAS"
    },
    {
      "name": "device_browser",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "metro_code",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "domain",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "device_platform",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "device_type",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "device_vendor",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "ip",
      "type": {
        "name": "FixedString",
        "parameters": [
          {
            "type": "Integer",
            "value": 39
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "lat",
      "type": {
        "name": "Decimal",
        "parameters": [
          {
            "type": "Integer",
            "value": 8
          },
          {
            "type": "Integer",
            "value": 6
          }
        ],
        "has_parentheses": true
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "lng",
      "type": {
        "name": "Decimal",
        "parameters": [
          {
            "type": "Integer",
            "value": 9
          },
          {
            "type": "Integer",
            "value": 6
          }
        ],
        "has_parentheses": true
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "asset_id",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "is_personalized",
      "type": {
        "name": "Bool"
      }
    },
    {
      "name": "metric",
      "type": {
        "name": "String"
      }
    },
    {
      "name": "origin",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "product_id",
      "type": {
        "name": "UInt64"
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "referer",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "server_side",
      "type": {
        "name": "Int8"
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "third_party_id",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "partner_slug",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "FixedString",
            "parameters": [
              {
                "type": "Integer",
                "value": 10
              }
            ],
            "has_parentheses": true
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "user_agent",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "user_id",
      "type": {
        "name": "UUID"
      }
    },
    {
      "name": "zip",
      "type": {
        "name": "FixedString",
        "parameters": [
          {
            "type": "Integer",
            "value": 10
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "timezone",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "as_organization",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "content_cat",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "playback_method",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "store_id",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "store_url",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "timestamp",
      "type": {
        "name": "Nullable",
        "parameters": [
          {
            "name": "DateTime"
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "ad_count",
      "type": {
        "name": "Int8"
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "ad_type",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "FixedString",
            "parameters": [
              {
                "type": "Integer",
                "value": 10
              }
            ],
            "has_parentheses": true
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "ad_categories",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "FixedString",
            "parameters": [
              {
                "type": "Integer",
                "value": 8
              }
            ],
            "has_parentheses": true
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "blocked_ad_categories",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "FixedString",
            "parameters": [
              {
                "type": "Integer",
                "value": 8
              }
            ],
            "has_parentheses": true
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "break_max_ad_length",
      "type": {
        "name": "Int8"
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "break_max_ads",
      "type": {
        "name": "Int8"
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "break_max_duration",
      "type": {
        "name": "Int8"
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "break_min_ad_length",
      "type": {
        "name": "Int8"
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "break_position",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "FixedString",
            "parameters": [
              {
                "type": "Integer",
                "value": 18
              }
            ],
            "has_parentheses": true
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "media_playhead",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "placement_type",
      "type": {
        "name": "Int8"
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "transaction_id",
      "type": {
        "name": "String"
      }
    },
    {
      "name": "universal_ad_id",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "client_ua",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "device_ip",
      "type": {
        "name": "FixedString",
        "parameters": [
          {
            "type": "Integer",
            "value": 39
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "device_ua",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "ifa",
      "type": {
        "name": "String"
      }
    },
    {
      "name": "ifa_type",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "vast_lat",
      "type": {
        "name": "Decimal",
        "parameters": [
          {
            "type": "Integer",
            "value": 8
          },
          {
            "type": "Integer",
            "value": 6
          }
        ],
        "has_parentheses": true
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "vast_long",
      "type": {
        "name": "Decimal",
        "parameters": [
          {
            "type": "Integer",
            "value": 9
          },
          {
            "type": "Integer",
            "value": 6
          }
        ],
        "has_parentheses": true
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "server_ua",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "app_bundle",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "page_url",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "api_framework",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "UInt8"
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "click_type",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "extensions",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "media_mime",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "om_id_partner",
      "type": {
        "name": "LowCardinality",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "player_capabilities",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "FixedString",
            "parameters": [
              {
                "type": "Integer",
                "value": 12
              }
            ],
            "has_parentheses": true
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "vast_versions",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "UInt8"
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "verification_vendors",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "ad_play_head",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "ad_serving_id",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "asset_uri",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "content_id",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "content_uri",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "inventory_state",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "FixedString",
            "parameters": [
              {
                "type": "Integer",
                "value": 14
              }
            ],
            "has_parentheses": true
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "player_size",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "UInt8"
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "player_state",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "FixedString",
            "parameters": [
              {
                "type": "Integer",
                "value": 12
              }
            ],
            "has_parentheses": true
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "pod_sequence",
      "type": {
        "name": "Int8"
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "click_position",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "UInt32"
          }
        ],
        "has_parentheses": true
      }
    },
    {
      "name": "error_code",
      "type": {
        "name": "Int16"
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "error_reason",
      "type": {
        "name": "Int8"
      },
      "codec": {
        "codecs": [
          {
            "name": "T64"
          }
        ]
      }
    },
    {
      "name": "gdpr_consent",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "limited_tracking",
      "type": {
        "name": "Bool"
      }
    },
    {
      "name": "regulations",
      "type": {
        "name": "String"
      },
      "default": {
        "type": "String",
        "value": "unknown"
      },
      "default_kind": "DEFAULT"
    },
    {
      "name": "content_category",
      "type": {
        "name": "Array",
        "parameters": [
          {
            "name": "String"
          }
        ],
        "has_parentheses": true
      }
    }
  ],
  "projections": [
    {
      "name": "projection_TPAG_VAST_date",
      "select": {
        "columns": [
          {}
        ],
        "order_by": [
          {
            "name": "toYYYYMMDD",
            "arguments": [
              {
                "parts": [
                  "date"
                ]
              }
            ]
          },
          {
            "parts": [
              "metric"
            ]
          },
          {
            "parts": [
              "product_id"
            ]
          },
          {
            "parts": [
              "asset_id"
            ]
          }
        ]
      }
    }
  ],
  "engine": {
    "name": "MergeTree"
  },
  "order_by": [
    {
      "type": "Tuple",
      "value": [
        {
          "parts": [
            "product_id"
          ]
        },
        {
          "parts": [
            "metric"
          ]
        },
        {
          "parts": [
            "asset_id"
          ]
        },
        {
          "name": "toYYYYMMDD",
          "arguments": [
            {
              "parts": [
                "date"
              ]
            }
          ]
        }
      ]
    }
  ]
}
